<?xml version="1.0" encoding="UTF-8"?>
<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 540.2 549.1" class="storm-icon">
  <defs>
    <style>
      .st0 { fill: #ffbf4e; }  /* lightning */
      .st1 { fill: #fff; }     /* cloud */
      .st2 { fill: #88d9ea; }  /* rain */
      .st3 { fill: #dbf2f4; }  /* cloud shade */

      /* --- RAIN (clipped, stays in frame) --- */
      .rain-clip { }
      .dropA { animation: rainFallA 1.05s linear infinite; }
      .dropB { animation: rainFallB 0.90s linear infinite; }
      .dropC { animation: rainFallC 1.15s linear infinite; }

      @keyframes rainFallA {
        0% { transform: translateY(-16px); opacity: 0; }
        15% { opacity: 1; }
        100% { transform: translateY(16px); opacity: 0.15; }
      }
      @keyframes rainFallB {
        0% { transform: translateY(-12px); opacity: 0; }
        18% { opacity: 1; }
        100% { transform: translateY(12px); opacity: 0.15; }
      }
      @keyframes rainFallC {
        0% { transform: translateY(-18px); opacity: 0; }
        12% { opacity: 1; }
        100% { transform: translateY(18px); opacity: 0.12; }
      }

      /* --- LIGHTNING (flash + tiny inward kick) --- */
      .bolt {
        transform-origin: 420px 260px;
        animation: boltFlash 2.8s infinite;
      }
      @keyframes boltFlash {
        0%, 72%, 100% { opacity: 1; transform: translate(0,0) scale(1); filter: none; }
        74% { opacity: 0.25; }
        76% { opacity: 1; filter: drop-shadow(0 0 10px rgba(255,191,78,0.75)); }
        78% { opacity: 0.35; }
        80% { opacity: 1; transform: translate(-2px, 1px) scale(0.985); }
        82% { opacity: 0.25; transform: translate(0,0) scale(1); filter: none; }
      }

      /* Motion safety */
      @media (prefers-reduced-motion: reduce) {
        .dropA, .dropB, .dropC, .bolt { animation: none; }
      }
    </style>

    <!-- Clip the rain to the area below the cloud and inside the frame -->
    <clipPath id="rainClipStorm">
      <rect x="0" y="340" width="540.2" height="209.1" />
    </clipPath>
  </defs>

  <!-- Cloud (static) -->
  <path class="st1" d="M517,261.3c0-48.9-36-89.5-82.9-96.6-5.4-71.4-65-127.6-137.8-127.6s-110.2,37.6-129.7,90.3c-4.5-.7-9.1-1.1-13.8-1.1-44.4,0-81,34-85,77.4C29.5,208.9,0,241.7,0,281.4s30.4,73.6,69.6,78.1h.7c2.7.3,358.9,0,358.9,0,49.3-5,87.8-47.4,87.8-98.1h0Z"/>
  <path class="st3" d="M434,164.7c-5.4-71.4-65-127.6-137.8-127.6s-25.3,1.8-37.2,5.1v317.4c75.8,0,149.3,0,166.4-.1,2.5,0,4.9-.1,7.4-.5,47.6-6.6,84.2-48.3,84.2-97.6s-36-89.5-82.9-96.6h0Z"/>

  <!-- Lightning (animated, stays in frame) -->
  <g class="bolt">
    <path class="st0" d="M355.3,299.8L440.9,18.7C444.5,7.6,454.9,0,466.6,0h0C484.9,0,497.9,17.9,492.1,35.3l-44.4,149.2c-5.8,17.6,12.5,33.4,29,25.1l33.4-16.6c16.4-8.1,34.5,7.3,29.1,24.8l-89.5,289.7c-3.8,12.3-15.1,20.7-28,20.7h0c-20,0-34.1-19.5-27.8-38.5l51.5-155.8c5.8-17.6-12.5-33.4-29.1-25.1l-32,16c-16.5,8.2-34.7-7.4-29.1-24.9h0Z"/>
  </g>

  <!-- Rain (animated, clipped) -->
  <g clip-path="url(#rainClipStorm)">
    <g class="dropA">
      <path class="st2" d="M226.6,482.7l30.4-53.4c2.5-4.4,8.9-4.4,11.4,0l30.4,53.4c.9,1.4,1.8,2.9,2.5,4.5h0c3,6,4.6,12.9,4.4,20.1-.6,22.8-19.2,41.4-42,41.9-24.2.5-44-18.9-44-43s2.6-16.7,6.9-23.4h0Z"/>
    </g>

    <g class="dropB">
      <path class="st2" d="M150.9,377.2l20.5-36c1.7-3,6-3,7.7,0l20.5,36c.6,1,1.2,2,1.7,3h0c2,4.1,3.1,8.7,2.9,13.5-.4,15.4-13,27.9-28.4,28.3-16.3.4-29.7-12.8-29.7-29s1.7-11.2,4.7-15.8h0Z"/>
    </g>

    <g class="dropC">
      <path class="st2" d="M110.9,493.8l16.1-28.4c1.3-2.3,4.7-2.3,6.1,0l16.1,28.4c.5.8.9,1.6,1.4,2.4h0c1.6,3.2,2.4,6.8,2.3,10.7-.3,12.1-10.2,22-22.3,22.2-12.8.3-23.4-10-23.4-22.8s1.4-8.9,3.7-12.4h0,0Z"/>
    </g>
  </g>
</svg>